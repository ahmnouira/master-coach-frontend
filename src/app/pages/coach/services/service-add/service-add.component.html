<app-sub-header [title]="'Mes services'"></app-sub-header>

<div class="sub-component-content">
  <div class="row mt-4 gx-4">
    <div class="col">
      <div class="row">
        <div class="col-2"></div>

        <div class="col-10 right-side">
          <form
            [@animate]="{
              value: '*',
              params: { duration: '300ms', y: '100px' }
            }"
            name="form"
            #f="ngForm"
            novalidate
          >
            <h2 class="title">Info</h2>

            <!-- Titre -->
            <app-text-field [label]="'Titre'" [(model)]="form.title">
            </app-text-field>

            <!-- Description -->
            <app-text-area
              [label]="'Description'"
              [(model)]="form.description"
              [placeholder]="'Texte…'"
            >
            </app-text-area>

            <!-- Duration  [required]="false" -->
            <app-text-field
              [label]="'Durée'"
              [(model)]="form.duration"
              [placeholder]="'Min'"
              [type]="'number'"
            >
            </app-text-field>

            <app-titled-field content="Auto confirmation">
              <app-checkbox
                [label]="'Les sessions seront auto-confirmés'"
                [(model)]="form.isAutoConfirmed"
              >
              </app-checkbox>
            </app-titled-field>

            <app-file-uploader
              [model]="form.image"
              type="photo"
              [style]="'secondary'"
              [title]="'Ajouter une photo'"
              (onClick)="addPhoto($event)"
              (onDelete)="form.image = undefined"
            ></app-file-uploader>

            <!-- Divider -->
            <app-divider></app-divider>

            <h2 class="title">Tarifs</h2>

            <label class="label" for="gratuit">Prix</label>

            <div class="row align-items-center">
              <div class="col-2">
                <app-checkbox [label]="'Gratuit'" [(model)]="form.isFree">
                </app-checkbox>
              </div>
              <div class="col-3">
                <app-checkbox
                  [label]="'Masquer le prix'"
                  [(model)]="form.isFree"
                >
                </app-checkbox>
              </div>

              <div class="col-2">
                <app-checkbox [label]="'Fixe'" [(model)]="form.isFixedPrice">
                </app-checkbox>
              </div>

              <div class="col">
                <app-text-field
                  [(model)]="form.price"
                  [type]="'number'"
                  [label]="'Price'"
                  [placeholder]="'Price'"
                  [showLabel]="false"
                >
                </app-text-field>
              </div>
            </div>

            <!-- Divider -->
            <app-divider></app-divider>

            <h2 class="title">Témoignage</h2>

            <app-text-field
              [(model)]="form.testimonies[0]"
              [label]="'Testimonie1'"
              [placeholder]="'Text...'"
            >
            </app-text-field>

            <div class="d-flex justify-content-end" style="margin-top: 16px">
              <div class="add-container">
                <img src="../../../../assets/icon/add.svg" alt="add-icon" />
                <p class="add-container-text">Ajouter un autre témoignage</p>
              </div>
            </div>

            <app-divider></app-divider>

            <app-form-error [error]="error"></app-form-error>

            <app-button (onClick)="submit()" [isLoading]="isLoading">
            </app-button>
          </form>
        </div>
      </div>
    </div>

    <div class="col">
      <app-right-image page="add-service"></app-right-image>
    </div>
  </div>
</div>
