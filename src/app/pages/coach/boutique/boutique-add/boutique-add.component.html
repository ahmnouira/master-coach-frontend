<app-sub-header [title]="'Ajouter un support de formation'"></app-sub-header>

<div class="sub-component-content">
  <div class="row mt-4 gx-4">
    <div class="col">
      <div class="row">
        <div class="col-2"></div>
        <div class="col-10 right-side">
          <form
            [@animate]="{
              value: '*',
              params: { duration: '300ms', y: '100px' }
            }"
            name="form"
            #f="ngForm"
            novalidate
          >
            <h2 class="title">Info</h2>

            <!-- Titre -->
            <app-text-field [label]="'Titre'" [(model)]="form.title">
            </app-text-field>

            <!-- Description -->
            <app-text-area
              [label]="'Description'"
              [(model)]="form.description"
              [placeholder]="'Texte…'"
            >
            </app-text-area>

            <!-- Duration  [required]="false" -->
            <app-text-field
              [label]="'Durée'"
              [(model)]="form.duration"
              [placeholder]="'Min'"
              [type]="'number'"
            >
            </app-text-field>

            <div class="row align-items-center mt-4">
              <div class="col-4">
                <app-titled-field content="type">
                  <app-radio [label]="'Documents'" [(model)]="isDocument">
                  </app-radio>
                </app-titled-field>
              </div>

              <div class="col">
                <app-file-uploader
                  [model]="form.files"
                  [title]="'Ajouter une photo'"
                  type="photo"
                  [style]="'secondary'"
                  (onClick)="addFiles($event)"
                  (onDelete)="form.files = []"
                ></app-file-uploader>
              </div>
            </div>

            <div class="row align-items-center">
              <div class="col-4">
                <app-titled-field [content]="'type'" [titleHidden]="true">
                  <app-radio [label]="'Vidéos'" [(model)]="isVideo">
                  </app-radio>
                </app-titled-field>
              </div>
            </div>

            <div class="row align-items-center">
              <div class="col-4">
                <app-titled-field [content]="'type'" [titleHidden]="true">
                  <app-radio [label]="'Podcasts'" [(model)]="isPodcast">
                  </app-radio>
                </app-titled-field>
              </div>
            </div>

            <div class="row align-items-center mt-4 mb-4">
              <app-titled-field content="image">
                <app-file-uploader
                  [model]="form.image"
                  [title]="'Ajouter une photo'"
                  type="photo"
                  [style]="'secondary'"
                  (onClick)="importImage($event)"
                  (onDelete)="form.image = ''"
                ></app-file-uploader>
              </app-titled-field>
            </div>

            <!-- Divider -->
            <app-divider></app-divider>
            <h2 class="title">Tarifs</h2>

            <label class="label" for="gratuit">Prix</label>

            <div class="row align-items-center">
              <div class="col-3">
                <app-checkbox [label]="'Gratuit'" [(model)]="form.isFree">
                </app-checkbox>
              </div>

              <div class="col-9">
                <app-text-field
                  [(model)]="form.price"
                  [type]="'number'"
                  [label]="'Price'"
                  [placeholder]="'Price'"
                  [showLabel]="false"
                >
                </app-text-field>
              </div>
            </div>

            <div class="form-group mt-4">
              <app-select
                [label]="'Catégory'"
                [data]="categories"
                [text]="'Coaching de carriére'"
                [(model)]="form.category"
              >
              </app-select>
            </div>

            <app-divider></app-divider>
            <app-form-error [error]="error"></app-form-error>

            <app-button (onClick)="submit()" [isLoading]="isLoading">
            </app-button>
          </form>
        </div>
      </div>
    </div>
    <div class="col">
      <app-right-image page="add-formation"></app-right-image>
    </div>
  </div>
</div>
