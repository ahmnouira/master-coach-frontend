<app-sub-header [title]="'Paramètres'"></app-sub-header>
<div class="row sub-component-content">
  <div class="row mb-40">
    <div class="offset-md-1 col-md-3 col-separator p-lg-0">
      <span class="row-title">Informations personnelles</span>
    </div>
    <div class="col-md-8 pl-40">
      <div class="image-container">
        <img class="profil-image" [attr.src]="form.photo">
        <input type="file" hidden accept="image/*" (change)="importFile($event)" #file>
        <button (click)="file.click()"> <img class="profil-icon" src="assets/img/common/camera-to-take-photos%20(3).svg"></button>

      </div>
      <div class="d-flex profil-data  flex-inputs">
        <div class="col form-group right-space mb-17">
          <label class="element-label">Nom</label>
          <input type="text" [(ngModel)]="form.nom"
                 class="form-control element"
                 placeholder="Laroche"
          >
        </div>
        <div class="col form-group mb-17">
          <label class="element-label ">Prénom</label>
          <input type="text" [(ngModel)]="form.prenom"
                 class="form-control element"
                 placeholder="David"
          >
        </div>
      </div>
      <div class="d-flex profil-data flex-inputs">
        <div class="col form-group right-space">
          <label class="element-label">Email</label>
          <input type="email" [(ngModel)]="form.email"
                 class="form-control element"
                 pattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
                 placeholder="davidlaroche@gmail.com"
                 required
                 #email="ngModel"
          >
          <div *ngIf="(email.invalid && email.touched) || email.dirty">
            <small *ngIf="email.errors?.required" class="alert alert-danger" role="alert">L'email' est obligatoire!</small>
            <small *ngIf="email.errors?.pattern" class="alert alert-danger" role="alert">Veuillez entrer un email valides</small>
          </div>
        </div>
        <div class="col form-group">
          <label class="element-label">Numéro de téléphone</label>
          <input type="tel" [(ngModel)]="form.tel"
                 class="form-control element"
                 placeholder="+33 12 34 56 789"
                 pattern="^(0|\+33)[ ]?[1-9]([-.: ]?[0-9]{2}){4}$"
                 required
                 #tel="ngModel"
          >
          <div *ngIf="(tel.invalid && email.touched) || tel.dirty">
            <small *ngIf="tel.errors?.required" class="alert alert-danger" role="alert">Le numéro de telephone est est obligatoire!</small>
            <small *ngIf="tel.errors?.pattern" class="alert alert-danger" role="alert">Veuillez entrer un numéro de telephone valide</small>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row mt-3">
    <div class="offset-md-1 col-md-3 col-separator p-lg-0 center-verticaly">
      <span class="row-title">Mise à jour du mot de passe</span>
    </div>
    <div class="col-md-8 pl-40">
      <div class="d-flex profil-data flex-inputs">
        <div class="col form-group right-space">
          <label class="element-label">Nouveau mot de passe</label>
          <input type="password" [(ngModel)]="newPassword" id="password" (click)="passwordChanged()"
                 class="form-control element" name="password" #password
          >
        </div>
        <div class="col form-group">
          <label class="element-label">Confirmez le nouveau mot de passe</label>
          <input type="password" [(ngModel)]="confirmPassword" (click)="confirmPasswordChanged()"
                 class="form-control element" [required]="password.value.length > 0"
                 pattern="{{ password.value }}"
          >
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="offset-md-1 col-md-3 col-margin p-0  hidden">
    </div>
    <div class="col-md-8 pl-40">
      <button class="btn btn-primary submit-btn" (click)="saveUser()">Enregistrer</button>&nbsp;

    </div>
  </div>
  
</div>
